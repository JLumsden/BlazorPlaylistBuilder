@using ActualPlaylistBuilder.Models.TrackSearch


<MudCarousel ItemsSource="_items" TData="Item[]" ShowArrows="true" ShowBullets="true" AutoCycle="false" Style="height:550px;">
    <ItemTemplate>
        <MudGrid Justify="Justify.Center">
            @foreach (var song in context)
            {
                <MudItem xs="6">
                    <SongCard Song="song" OnChoose="Chosen" />
                </MudItem>
            }
        </MudGrid>


    </ItemTemplate>
</MudCarousel>


@code {
    [Parameter]
    public List<Item> Items { get; set; }
    [Parameter] public EventCallback<Item> OnChoose { get; set; }
    private IEnumerable<Item[]> _items { get; set; }
    const int PAGE_SIZE = 5;

    protected override Task OnParametersSetAsync()
    {
        _items = Items.Chunk(PAGE_SIZE);

        return base.OnParametersSetAsync();
    }

    void Chosen(Item item)
    {
        OnChoose.InvokeAsync(item);
    }
}
